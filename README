Collecting workspace information# Financial Management

Uma aplicaÃ§Ã£o completa de gerenciamento financeiro pessoal construÃ­da com tecnologias modernas, permitindo organizar e controlar suas contas de forma intuitiva.

## ğŸ¯ CaracterÃ­sticas

- **Gerenciamento de Contas**: Crie, edite e delete diferentes tipos de contas (dÃ©bito, crÃ©dito e vitalÃ­cias)
- **OrganizaÃ§Ã£o por Status**: Acompanhe contas pagas, pendentes e atrasadas
- **Drag & Drop**: Reordene suas contas de forma intuitiva
- **AutenticaÃ§Ã£o Segura**: Sistema de login com tokens JWT
- **RecuperaÃ§Ã£o de Senha**: Fluxo completo com validaÃ§Ã£o por cÃ³digo
- **Tema Claro/Escuro**: Interface adaptÃ¡vel Ã s preferÃªncias do usuÃ¡rio
- **Responsivo**: Funciona perfeitamente em dispositivos mÃ³veis e desktop

## ğŸ—ï¸ Arquitetura

O projeto segue uma arquitetura monorepo com separaÃ§Ã£o clara entre frontend, backend e cÃ³digo compartilhado.

```
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/           # Backend (Node.js + Express + tRPC)
â”‚   â””â”€â”€ front/         # Frontend (React + TypeScript + Vite)
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared/        # Schemas e tipos compartilhados (Zod)
```

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 18** com TypeScript
- **Vite** para build rÃ¡pido
- **Tailwind CSS** para estilizaÃ§Ã£o
- **Ant Design** para componentes UI
- **React Query** para state management
- **tRPC** para type-safe API calls
- **Day.js** para manipulaÃ§Ã£o de datas

### Backend
- **Node.js** com TypeScript
- **Express** para servidor HTTP
- **tRPC** para API type-safe
- **MongoDB** com Mongoose para persistÃªncia
- **JWT** para autenticaÃ§Ã£o
- **Resend** para envio de emails

### DevOps
- **Turbo** para monorepo management
- **pnpm** para package management
- **Docker** para containerizaÃ§Ã£o

## ğŸ“‹ PrÃ©-requisitos

- Node.js 22+
- pnpm 9+
- MongoDB
- VariÃ¡veis de ambiente configuradas

## ğŸš€ InstalaÃ§Ã£o

### 1. Clone o repositÃ³rio
```bash
git clone <repository-url>
cd FinancialManagement
```

### 2. Instale as dependÃªncias
```bash
pnpm install
```

### 3. Configure as variÃ¡veis de ambiente

**Backend (.env na raiz de api):**
```env
PORT=3000
NODE_ENV=development
MONGO_URL=mongodb://localhost:27017/financial
JWT_SECRET=seu_secret_jwt_aqui
FRONTEND_ORIGIN=http://localhost:5173
RESEND_API_KEY=sua_chave_resend_aqui
MAIL_FROM=seu_email@example.com
```

**Frontend (.env na raiz de front):**
```env
VITE_API_ENDPOINT=http://localhost:3000
```

## ğŸ“¦ Scripts

### Desenvolvimento
```bash
# Inicia todos os serviÃ§os em desenvolvimento
pnpm dev

# Apenas frontend
pnpm dev:front

# Apenas backend
pnpm dev:api
```

### Build
```bash
# Build de todos os pacotes
pnpm build

# Build do frontend
pnpm build:front

# Build do backend
pnpm build:api
```

### Testes
```bash
pnpm test
```

### Linting
```bash
pnpm lint
```

## ğŸƒ Executando o Projeto

### Modo Desenvolvimento
```bash
pnpm dev
```

A aplicaÃ§Ã£o estarÃ¡ disponÃ­vel em:
- Frontend: `http://localhost:5173`
- Backend: `http://localhost:3000`

### Modo ProduÃ§Ã£o
```bash
pnpm build
cd apps/api
node dist/index.js
```

## ğŸ³ Docker

```bash
# Build da imagem
docker build -t financial-api apps/api/

# Executa o container
docker run -p 3000:3000 --env-file .env financial-api
```

## ğŸ“š Estrutura de Pastas

```
apps/api/src/
â”œâ”€â”€ billings/          # LÃ³gica de contas
â”œâ”€â”€ user/              # AutenticaÃ§Ã£o e usuÃ¡rios
â”œâ”€â”€ trpc/              # ConfiguraÃ§Ã£o tRPC
â”œâ”€â”€ middlewares/       # Middlewares
â”œâ”€â”€ lib/               # UtilitÃ¡rios e serviÃ§os
â””â”€â”€ utils/             # FunÃ§Ãµes auxiliares

apps/front/src/
â”œâ”€â”€ components/        # Componentes React
â”œâ”€â”€ pages/             # PÃ¡ginas principais
â”œâ”€â”€ hooks/             # Custom hooks
â”œâ”€â”€ utils/             # FunÃ§Ãµes auxiliares
â”œâ”€â”€ providers/         # Context providers
â””â”€â”€ theme/             # Temas e layout
```

## ğŸ” AutenticaÃ§Ã£o

A aplicaÃ§Ã£o utiliza **JWT (JSON Web Tokens)** com refresh automÃ¡tico via cookies httpOnly. O fluxo inclui:

- Login com email/senha
- CriaÃ§Ã£o de conta com validaÃ§Ã£o
- RecuperaÃ§Ã£o de senha em 3 etapas
- AlteraÃ§Ã£o de senha autenticada

## ğŸ“ API Endpoints

### AutenticaÃ§Ã£o
- `POST /trpc/auth.login` - Login
- `POST /trpc/auth.createUser` - Criar conta
- `POST /trpc/auth.changePassword` - Alterar senha
- `POST /trpc/auth.firstStepForgotPassword` - Iniciar recuperaÃ§Ã£o
- `POST /trpc/auth.secondStepForgotPassword` - Validar cÃ³digo
- `POST /trpc/auth.thirdStepForgotPassword` - Redefinir senha
- `GET /trpc/auth.me` - Obter usuÃ¡rio autenticado

### Contas
- `GET /trpc/bill.allBills` - Listar todas as contas
- `POST /trpc/bill.newBill` - Criar conta
- `PUT /trpc/bill.updateBill` - Atualizar conta
- `DELETE /trpc/bill.deleteBill` - Deletar conta
- `POST /trpc/bill.updateStatus` - Atualizar status
- `POST /trpc/bill.closeMonth` - Finalizar mÃªs

## ğŸ¨ Tipos de Contas

### DÃ©bito
Contas Ãºnicas sem parcelamento

### CrÃ©dito
Contas parceladas com data de vencimento

### VitalÃ­cio
Contas recorrentes com data de vencimento fixa

## ğŸ’¾ Dados Persistidos

As contas mantÃªm histÃ³rico com:
- Data de criaÃ§Ã£o e atualizaÃ§Ã£o
- Status (pago, pendente, atrasado)
- Ordem de exibiÃ§Ã£o (reordenÃ¡vel)
- Soft delete (deletedAt)

## ğŸ¤ Contribuindo

1. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
2. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
3. Push para a branch (`git push origin feature/AmazingFeature`)
4. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo LICENSE para mais detalhes.

## ğŸ“§ Contato

Para dÃºvidas ou sugestÃµes, entre em contato atravÃ©s dos canais disponÃ­veis no repositÃ³rio.

---

**Desenvolvido com â¤ï¸ usando tecnologias modernas e melhores prÃ¡ticas de desenvolvimento.**